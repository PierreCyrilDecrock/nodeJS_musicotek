<% include partials/header %>

<div class="page-header">
  <h1>Musicotek <small><%= songs.length %> chansons trouvée(s)</small></h1>
</div>

<div class="col-lg-12">

  <h2>Ajouter</h2><a href="/songs/add" class="btn btn-primary">Ajouter</a>

  <h2>Recherche</h2>

  <form id="search" class="form-inline" action="/songs" method="get">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" class="form-control" id="title" name="title">
    </div>

    <div class="form-group">
      <label for="album">Album</label>
      <input type="text" class="form-control" id="album" name="album">
    </div>

    <div class="form-group">
      <label for="artist">Artist</label>
      <input type="text" class="form-control" id="artist" name="artist">
    </div>

    <div class="form-group">
      <label for="year">Année</label>
      <input type="number" class="form-control" id="year" name="year">
    </div>

    <div class="form-group">
      <label for="bpm">BPM</label>
      <input type="number" class="form-control" id="bpm" name="bpm">
    </div>
    <button form="search" type="submit" class="btn btn-primary">Rechercher</button>
  </form>

</div>

<div class="col-lg-6">
  <h2>Liste des musiques%></h2>
  <table class="table table-condensed">
    <thead>
      <tr>
        <th>Title</th>
        <th>Album</th>
        <th>Artist</th>
        <th>Year</th>
        <th>BPM</th>
      </tr>
    </thead>
    <% songs.forEach((song) =>{%>
      <tr>
        <td>
          <a href="/songs/<%=song._id%>"><%=song.title%></a>
        </td>
        <td><%=song.album%></td>
        <td><%=song.artist%></td>
        <td>
          <% if (song.year) { %><%=song.year%><% } %>
        </td>
        <td>
          <% if (song.bpm) { %><%=song.bpm%><% } %>
        </td>
      </tr>
    <% }) %>
  </table>
</div>

<% include partials/footer %>
